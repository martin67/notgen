<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/general :: header-css" />

<body>
	<div th:replace="fragments/general :: header" />

	<!-- Modal -->
	<div class="modal" id="deleteModal" tabindex="-1" role="dialog">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Ta bort användare</h5>
					<button type="button" class="close" data-dismiss="modal"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<p>Vill du verkligen ta bort denna användare?</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary"
						data-dismiss="modal">Avbryt</button>
					<a class="btn btn-danger"
						th:href="@{/admin/userDelete(id=${user.id})}">Ta bort</a>
				</div>
			</div>
		</div>
	</div>

	<div class="container">
		<h1>Redigera användare</h1>

		<form role="form" th:action="@{/admin/userSave}" th:object="${user}"
			th:method="post">
			<input type="hidden" th:field="*{id}" th:value="${user.id}" />

			<div class="form-group row">
				<label class="col-sm-3 col-form-label" for="name">Användarnamn</label>
				<div class="col-sm-9">
					<input type="text" class="form-control" th:field="*{username}"
						th:value="${user.username}" id="username" /> <span
						class="text-danger" th:if="${#fields.hasErrors('username')}"
						th:errors="*{username}">Error</span>
				</div>
			</div>
			<div class="form-group row">
				<label class="col-sm-3 col-form-label" for="fullname">Namn</label>
				<div class="col-sm-9">
					<input type="text" class="form-control" th:field="*{fullname}"
						th:value="${user.fullname}" id="fullname" />
				</div>
			</div>
			<div class="form-group row">
				<label class="col-sm-3 col-form-label" for="password">Lösenord</label>
				<div class="col-sm-9">
					<input type="text" class="form-control" th:field="*{password}"
						th:value="${user.password}" id="password" />
				</div>
			</div>
			<div class="form-group row">
				<div class="col-sm-3">Aktiv</div>
				<div class="col-sm-9">
					<div class="form_check">
						<input class="form-check-input" type="checkbox"
							th:field="*{enabled}" th:value="${user.enabled}" />
					</div>
				</div>
			</div>
			<div class="form-group row">
				<div class="col-sm-9">
					<a class="btn btn-secondary" th:href="@{/admin}">Tillbaka</a>
					<button type="button" class="btn btn-danger" data-toggle="modal"
						data-target="#deleteModal">Ta bort</button>
					<input type="submit" class="btn btn-primary" value="Spara" />
				</div>
			</div>
		</form>
	</div>

	<footer th:replace="fragments/general :: footer" />
</body>
</html>